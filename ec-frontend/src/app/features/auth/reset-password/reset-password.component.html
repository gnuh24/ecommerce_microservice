<div class="auth-layout">
    <div class="auth-container">
        <h1 class="auth-title">Đặt lại mật khẩu</h1>

        <form [formGroup]="resetForm" (ngSubmit)="onSubmit()" class="auth-form">

            <!-- OTP -->
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Mã OTP</mat-label>
                <input matInput formControlName="otp" type="text" required />
            </mat-form-field>

            <!-- Mật khẩu mới -->
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Mật khẩu mới</mat-label>
                <input matInput [type]="hide1 ? 'password' : 'text'" formControlName="newPassword" required />
                <button mat-icon-button matSuffix type="button" (click)="hide1 = !hide1">
                    <mat-icon>{{ hide1 ? 'visibility_off' : 'visibility' }}</mat-icon>
                </button>
            </mat-form-field>

            <!-- Nhập lại mật khẩu -->
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Nhập lại mật khẩu</mat-label>
                <input matInput [type]="hide2 ? 'password' : 'text'" formControlName="repeatNewPassword" required />
                <button mat-icon-button matSuffix type="button" (click)="hide2 = !hide2">
                    <mat-icon>{{ hide2 ? 'visibility_off' : 'visibility' }}</mat-icon>
                </button>
            </mat-form-field>

            <!-- Nút gửi lại OTP -->
            <button mat-stroked-button color="primary" type="button" (click)="onResendOtp()" [disabled]="countdown > 0">
                Gửi lại OTP {{ countdown > 0 ? '(' + countdown + 's)' : '' }}
            </button>

            <!-- Nút đặt lại mật khẩu -->
            <button mat-raised-button color="primary" type="submit" [disabled]="resetForm.invalid">
                Xác nhận
            </button>
        </form>
    </div>
</div>